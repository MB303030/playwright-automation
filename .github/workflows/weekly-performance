on:
  schedule:
    - cron: '0 9 * * 1'
  workflow_dispatch: true

jobs:
  performance:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - name: Install dependencies
      run: |
        npm ci || true
        npx playwright install chromium || true
    
    - name: Run performance tests
      run: |
        if [ -d "tests/performance" ]; then
          npx playwright test tests/performance --project=chrome-performance --grep="@Weekly" || true
        else
          echo "Directory tests/performance does not exist. Skipping performance tests."
        fi
